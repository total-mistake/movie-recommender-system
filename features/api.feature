# language: ru
Функционал: API сервис рекомендаций фильмов
  Как пользователь системы рекомендаций
  Я хочу иметь возможность получать рекомендации фильмов
  Чтобы находить интересные фильмы для просмотра

  Сценарий: Проверка здоровья сервера
    Дано API сервер запущен и готов к работе
    Когда пользователь запрашивает проверку здоровья сервера
    Тогда сервер отвечает статусом 200
    И ответ содержит статус 'ok'

  Сценарий: Сервер не готов к работе
    Дано API сервер не готов к работе
    Когда пользователь запрашивает проверку здоровья сервера
    Тогда сервер отвечает статусом 503

  Сценарий: Получение рекомендаций фильмов
    Дано API сервер запущен и готов к работе
    И пользователь с ID 1
    Когда пользователь запрашивает 5 рекомендаций
    Тогда сервер отвечает статусом 200
    И ответ содержит 5 рекомендаций

  Сценарий: Получение токена администратора
    Дано API сервер запущен и готов к работе
    И администратор с валидным API ключом
    Когда администратор запрашивает токен
    Тогда сервер отвечает статусом 200
    И ответ содержит JWT токен

  Сценарий: Получение токена с невалидным ключом
    Дано API сервер запущен и готов к работе
    И администратор с невалидным API ключом
    Когда администратор с невалидным ключом запрашивает токен
    Тогда сервер отвечает статусом 401

  Сценарий: Доступ к статистике без токена
    Дано API сервер запущен и готов к работе
    Когда администратор запрашивает статистику без токена
    Тогда сервер отвечает статусом 401

  Сценарий: Доступ к статистике с токеном
    Дано API сервер запущен и готов к работе
    И администратор с валидным API ключом
    Когда администратор запрашивает статистику с токеном
    Тогда сервер отвечает статусом 200
    И ответ содержит статистику 